"use strict";import{jsPanel}from"../../jspanel.js";function dockPanel(e,i){let t,n={position:{my:"left-top",at:"right-top"},linkSlaveHeight:!1,linkSlaveWidth:!1,callback:!1},o=Object.assign({},n,e);if(!(t=o.master&&1===o.master.nodeType?o.master:document.querySelector(o.master))){const e=this.id,t=new jsPanelError("Could not dock panel with id <"+e+"> because the panel to dock to does not exist in the document!");try{throw t}catch(e){i&&i.call(e,e)}return console.error(t.name+":",t.message)}let d=document.getElementById(this.id),l=Object.assign({},o.position,{of:t,minLeft:!1,minTop:!1,maxLeft:!1,maxTop:!1,autoposition:!1});if(l.my||(l.my=n.position.my),l.at||(l.at=n.position.at),d.options.position=l,["smallify","smallifyrev","minimize","normalize","maximize"].forEach(function(e){d.setControlStatus(e,"remove")}),o.linkSlaveHeight){let e=window.getComputedStyle(t).height;d.resize({height:e})}if(o.linkSlaveWidth){let e=window.getComputedStyle(t).width;d.resize({width:e})}return d.reposition(l),d.dragit("disable"),d.resizeit("disable"),d.options.minimizeTo=!1,t.reposSlave=function(){document.querySelector("#"+d.id)&&d.reposition()},t.options.dragit&&t.options.dragit.drag.push(t.reposSlave),t.resizeSlave=function(){if(document.querySelector("#"+d.id)){if(d.reposition(),o.linkSlaveHeight){let e=window.getComputedStyle(t).height;d.resize({height:e})}if(o.linkSlaveWidth){let e=window.getComputedStyle(t).width;d.resize({width:e})}}},t.options.resizeit&&t.options.resizeit.resize.push(t.resizeSlave),document.addEventListener("jspanelbeforeclose",function(e){if(e.detail===t.id)return t.options.dragit&&(t.options.dragit.drag=[]),t.options.resizeit&&(t.options.resizeit.resize=[]),!0},!1),document.addEventListener("jspanelclosed",function(e){e.detail===t.id&&document.querySelector("#"+d.id)&&d.close()},!1),document.addEventListener("jspanelmaximized",function(e){if(e.detail===t.id&&document.querySelector("#"+d.id)){if(d.normalize(),o.linkSlaveHeight){let e=window.getComputedStyle(t).height;d.resize({height:e})}if(o.linkSlaveWidth){let e=window.getComputedStyle(t).width;d.resize({width:e})}d.reposition()}},!1),document.addEventListener("jspanelminimized",function(e){e.detail===t.id&&document.querySelector("#"+d.id)&&d.minimize()},!1),document.addEventListener("jspanelnormalized",function(e){if(e.detail===t.id&&document.querySelector("#"+d.id)){if(d.normalize(),o.linkSlaveHeight){let e=window.getComputedStyle(t).height;d.resize({height:e})}if(o.linkSlaveWidth){let e=window.getComputedStyle(t).width;d.resize({width:e})}d.reposition()}},!1),document.addEventListener("jspanelsmallifiedmax",function(e){e.detail===t.id&&document.querySelector("#"+d.id)&&d.smallify().reposition()},!1),document.addEventListener("jspanelsmallified",function(e){e.detail===t.id&&document.querySelector("#"+d.id)&&d.smallify().reposition()},!1),document.addEventListener("jspanelunsmallified",function(e){e.detail===t.id&&document.querySelector("#"+d.id)&&d.unsmallify().reposition()},!1),d.dockedTo=t.id,o.callback&&o.callback.call(d,t,d),d}dockPanel.getVersion=function(){return"1.1.0"},dockPanel.getDate=function(){return"2018-11-30 10:30"},jsPanel.extend({dock:dockPanel}),"undefined"!=typeof module&&(module.exports=jsPanel);