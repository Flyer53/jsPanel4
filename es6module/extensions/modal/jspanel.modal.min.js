import{jsPanel}from"../../jspanel.js";jsPanel.modal||(jsPanel.modal={version:"1.2.4",date:"2020-01-17 09:24",defaults:{closeOnEscape:!0,closeOnBackdrop:!0,dragit:!1,headerControls:"closeonly",resizeit:!1,syncMargins:!1},addBackdrop(e){let a=document.getElementsByClassName("jsPanel-modal-backdrop").length,o=document.createElement("div");return o.id="jsPanel-modal-backdrop-"+e,0===a?o.className="jsPanel-modal-backdrop":a>0&&(o.className="jsPanel-modal-backdrop jsPanel-modal-backdrop-multi"),o.style.zIndex=this.ziModal.next(),o},removeBackdrop(e){let a=document.getElementById(`jsPanel-modal-backdrop-${e}`);a.classList.add("jsPanel-modal-backdrop-out");let o=1e3*parseFloat(getComputedStyle(a).animationDuration);window.setTimeout(function(){document.body.removeChild(a)},o)},create(e={}){e.paneltype="modal",e.id?"function"==typeof e.id&&(e.id=e.id()):e.id=`jsPanel-${jsPanel.idCounter+=1}`;let a=e,o=this.addBackdrop(a.id);return e.config&&delete(a=Object.assign({},e.config,e)).config,a=Object.assign({},this.defaults,a,{container:"window"}),document.body.append(o),jsPanel.create(a,e=>{e.style.zIndex=jsPanel.modal.ziModal.next(),e.header.style.cursor="default",e.footer.style.cursor="default",a.closeOnBackdrop&&jsPanel.pointerup.forEach(function(o){document.getElementById(`jsPanel-modal-backdrop-${a.id}`).addEventListener(o,function(){e.close(null,!0)})}),e.options.onclosed.push(()=>{jsPanel.modal.removeBackdrop(a.id)})})}},jsPanel.modal.ziModal=(()=>{let e=jsPanel.ziBase+1e4;return{next:function(){return e++}}})());