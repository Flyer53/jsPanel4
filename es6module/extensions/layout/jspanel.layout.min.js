"use strict";import{jsPanel}from"../../jspanel.min.js";jsPanel.layout||(jsPanel.layout={version:"1.2.0",date:"2019-04-22 09:15",storage:localStorage,save(e={}){let t=e.selector?e.selector:".jsPanel-standard",s=e.storagename?e.storagename:"jspanels";const r=document.querySelectorAll(t);let n=[];r.forEach(e=>{let t=e.currentData;t.status=e.status,t.zIndex=e.style.zIndex,t.id=e.id,n.push(t)}),n.sort(function(e,t){return e.zIndex-t.zIndex}),this.storage.removeItem(s);let a=JSON.stringify(n);return this.storage.setItem(s,a),a},getAll(e="jspanels"){return!!this.storage[e]&&JSON.parse(this.storage[e])},getId(e,t="jspanels"){if(this.storage[t]){let s;return this.getAll(t).forEach(t=>{t.id===e&&(s=t)}),s||!1}return!1},restoreId(e={}){let t,s,r;if(!e.id||!e.config)return console.error("Id or predefined panel configuration is missing!"),!1;t=e.id,s=e.config,r=e.storagename?e.storagename:"jspanels";let n=this.getId(t,r);if(n){let e={id:n.id,setStatus:n.status,panelSize:{width:n.width,height:n.height},zIndex:n.zIndex},t=Object.assign({},s,e),r=jsPanel.create(t);return r.style.zIndex=e.zIndex,r.style.left=n.left,r.style.top=n.top,r}},restore(e={}){let t,s;if(!e.configs)return console.error("Object with predefined panel configurations is missing!"),!1;if(t=e.configs,s=e.storagename?e.storagename:"jspanels",!this.storage[s])return!1;this.getAll(s).forEach(function(e){let r=e.id;for(let e in t)t.hasOwnProperty(e)&&t[e].id===r&&jsPanel.layout.restoreId({id:r,config:t[e],storagename:s})})}});