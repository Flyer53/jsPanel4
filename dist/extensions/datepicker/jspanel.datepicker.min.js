"use strict";jsPanel.datepicker||(jsPanel.datepicker={version:"0.3.0",date:"2020-02-16 19:32",defaults:{locale:"en",startdate:void 0,months:1,showWeekNumbers:!0,ondateselect:void 0,onrangeselect:void 0,onselectionclear:void 0,callback:void 0},keyValue:void 0,generateHTML:function(){var e=document.createElement("div");e.className="jsPanel-cal-wrapper",e.innerHTML='<div class="jsPanel-cal-sub jsPanel-cal-clear">&#9723;</div>\n                <div class="jsPanel-cal-sub jsPanel-cal-back">&#9204;</div>\n                <div class="jsPanel-cal-sub jsPanel-cal-month"></div>\n                <div class="jsPanel-cal-sub jsPanel-cal-forward">&#9205;</div>\n                <div class="jsPanel-cal-sub jsPanel-cal-reset">&#8634;</div>\n                <div class="jsPanel-cal-sub jsPanel-cal-blank3"></div>\n                <div class="jsPanel-cal-sub day-name day-name-0"></div>\n                <div class="jsPanel-cal-sub day-name day-name-1"></div>\n                <div class="jsPanel-cal-sub day-name day-name-2"></div>\n                <div class="jsPanel-cal-sub day-name day-name-3"></div>\n                <div class="jsPanel-cal-sub day-name day-name-4"></div>\n                <div class="jsPanel-cal-sub day-name day-name-5"></div>\n                <div class="jsPanel-cal-sub day-name day-name-6"></div>';for(var a=0;a<6;a++)e.innerHTML+='<div class="jsPanel-cal-sub week week-'.concat(a,'"></div>');for(var t=1;t<43;t++)e.innerHTML+='<div class="jsPanel-cal-sub day day-'.concat(t,'"></div>');return e},fillMonth:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:moment();moment.locale(e.options.locale);var t=moment(a)||moment(e.options.startdate);t.locale(e.options.locale);var l=t.month(),r=t.date(1).weekday(),n=t.localeData(),s=e.querySelector(".jsPanel-cal-month");s.innerHTML=t.format("MMMM YYYY"),s.dataset.date=t.format("YYYY-MM-DD");var d=e.querySelectorAll(".jsPanel-cal-sub.day-name"),o=n.weekdaysMin();if(1===n.firstDayOfWeek()){for(var c=0,i=1;c<7;c++,i++)d[c].textContent=o[i];d[6].textContent=o[0],d[5].classList.add("weekend"),d[6].classList.add("weekend")}else{for(var v=0;v<7;v++)d[v].textContent=o[v];d[0].classList.add("weekend"),d[6].classList.add("weekend")}var u=t.subtract(++r,"days"),y=e.querySelectorAll(".jsPanel-cal-sub.day"),f=!0,m=!1,h=void 0;try{for(var b,j=y[Symbol.iterator]();!(f=(b=j.next()).done);f=!0){var P=b.value;P.classList.remove("today","notInMonth","selected","range","remove-border-radius-right","remove-border-radius-left");var k=u.add(1,"days");P.textContent=k.format("D"),P.dataset.date=t.format("YYYY-MM-DD"),k.month()!==l?P.classList.add("notInMonth"):P.dataset.date===moment().format("YYYY-MM-DD")&&P.classList.add("today")}}catch(e){m=!0,h=e}finally{try{f||null==j.return||j.return()}finally{if(m)throw h}}e.options.showWeekNumbers&&e.querySelectorAll(".jsPanel-cal-sub.week").forEach(function(a,t){a.textContent=moment(e.querySelector(".jsPanel-cal-sub.day-".concat(7*(t+1))).dataset.date).week()})},deselectAllDays:function(e){var a=!0,t=!1,l=void 0;try{for(var r,n=e.querySelectorAll(".jsPanel-cal-sub.day")[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){r.value.classList.remove("selected","range","remove-border-radius-right","remove-border-radius-left")}}catch(e){t=!0,l=e}finally{try{a||null==n.return||n.return()}finally{if(t)throw l}}},restoreSelections:function(e){var a=e.querySelectorAll(".jsPanel-cal-sub.day"),t=!0,l=!1,r=void 0;try{for(var n,s=a[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var d=n.value;e.selectedDays.has(d.dataset.date)&&d.classList.add("selected")}}catch(e){l=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(l)throw r}}if(e.selectedRange.size){var o=e.selectedRange.values().next().value.split("/"),c=!0,i=!1,v=void 0;try{for(var u,y=a[Symbol.iterator]();!(c=(u=y.next()).done);c=!0){var f=u.value,m=f.dataset.date;m>=o[0]&&m<=o[1]&&(f.classList.add("selected","range"),m===o[0]?f.classList.add("remove-border-radius-right"):m===o[1]?f.classList.add("remove-border-radius-left"):(m>o[0]||m<o[1])&&f.classList.add("remove-border-radius-right","remove-border-radius-left"))}}catch(e){i=!0,v=e}finally{try{c||null==y.return||y.return()}finally{if(i)throw v}}}},create:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.style.display="flex",e.selectedDays=new Set,e.selectedRange=new Set;for(var t,l=Object.assign({},this.defaults,a),r=0;r<l.months;r++)(t=this.generateHTML()).options=l,e.append(t),this.fillMonth(t,l.startdate),l.startdate=moment(l.startdate).add(1,"months");var n,s=e.querySelectorAll(".jsPanel-cal-wrapper"),d=!0,o=!1,c=void 0;try{for(var i,v=s[Symbol.iterator]();!(d=(i=v.next()).done);d=!0){var u=i.value,y=!0,f=!1,m=void 0;try{for(var h,b=u.querySelectorAll(".jsPanel-cal-clear")[Symbol.iterator]();!(y=(h=b.next()).done);y=!0){h.value.addEventListener("click",function(a){l.onselectionclear&&"function"==typeof l.onselectionclear&&l.onselectionclear.call(e,e,a),a.defaultPrevented||(jsPanel.datepicker.deselectAllDays(e),e.selectedDays.clear(),e.selectedRange.clear())})}}catch(e){f=!0,m=e}finally{try{y||null==b.return||b.return()}finally{if(f)throw m}}var j=!0,P=!1,k=void 0;try{for(var p,L=u.querySelectorAll(".jsPanel-cal-back")[Symbol.iterator]();!(j=(p=L.next()).done);j=!0){p.value.addEventListener("click",function(){var a=!0,t=!1,l=void 0;try{for(var r,n=s[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var d=r.value,o=d.querySelector(".jsPanel-cal-month").dataset.date,c=moment(o).subtract(1,"months").format("YYYY-MM");jsPanel.datepicker.fillMonth(d,c)}}catch(e){t=!0,l=e}finally{try{a||null==n.return||n.return()}finally{if(t)throw l}}jsPanel.datepicker.deselectAllDays(e),jsPanel.datepicker.restoreSelections(e)})}}catch(e){P=!0,k=e}finally{try{j||null==L.return||L.return()}finally{if(P)throw k}}var g=!0,S=!1,w=void 0;try{for(var M,D=u.querySelectorAll(".jsPanel-cal-forward")[Symbol.iterator]();!(g=(M=D.next()).done);g=!0){M.value.addEventListener("click",function(){var a=!0,t=!1,l=void 0;try{for(var r,n=s[Symbol.iterator]();!(a=(r=n.next()).done);a=!0){var d=r.value,o=d.querySelector(".jsPanel-cal-month").dataset.date,c=moment(o).add(1,"months").format("YYYY-MM");jsPanel.datepicker.fillMonth(d,c)}}catch(e){t=!0,l=e}finally{try{a||null==n.return||n.return()}finally{if(t)throw l}}jsPanel.datepicker.deselectAllDays(e),jsPanel.datepicker.restoreSelections(e)})}}catch(e){S=!0,w=e}finally{try{g||null==D.return||D.return()}finally{if(S)throw w}}var x=!0,Y=!1,q=void 0;try{for(var A,E=u.querySelectorAll(".jsPanel-cal-reset")[Symbol.iterator]();!(x=(A=E.next()).done);x=!0){A.value.addEventListener("click",function(a){for(var t=a.target.closest(".jsPanel-cal-wrapper"),l=0;t.previousSibling;)l++,t=t.previousSibling;var r=moment().subtract(l,"months"),n=!0,d=!1,o=void 0;try{for(var c,i=s[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var v=c.value;jsPanel.datepicker.fillMonth(v,r),r=moment(r).add(1,"months")}}catch(e){d=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(d)throw o}}jsPanel.datepicker.deselectAllDays(e),jsPanel.datepicker.restoreSelections(e)})}}catch(e){Y=!0,q=e}finally{try{x||null==E.return||E.return()}finally{if(Y)throw q}}}}catch(e){o=!0,c=e}finally{try{d||null==v.return||v.return()}finally{if(o)throw c}}return e.addEventListener("click",function(a){a.preventDefault();var t=a.target,r=a.altKey,n=a.ctrlKey,s=a.shiftKey;if(t.classList.contains("day")){var d=t.classList.contains("selected"),o=t.dataset.date;if(n||s||r){if(!r&&n&&!s){e.selectedRange.clear();var c=!0,i=!1,v=void 0;try{for(var u,y=e.querySelectorAll(".day")[Symbol.iterator]();!(c=(u=y.next()).done);c=!0){var f=u.value;f.classList.contains("selected")&&f.classList.contains("range")&&f.classList.remove("range","selected")}}catch(e){i=!0,v=e}finally{try{c||null==y.return||y.return()}finally{if(i)throw v}}d?(t.classList.remove("selected"),e.selectedDays.delete(o)):(t.classList.add("selected"),e.selectedDays.add(o))}}else jsPanel.datepicker.deselectAllDays(e),e.selectedDays.clear(),d?t.classList.remove("selected"):(t.classList.add("selected"),e.selectedDays.add(o));l.ondateselect&&"function"==typeof l.ondateselect&&l.ondateselect.call(e,e,o,a)}}),e.addEventListener("pointerdown",function(a){a.preventDefault();var t=a.target,l=a.altKey,r=a.ctrlKey,s=a.shiftKey,d=a.target.dataset.date,o=a.target.dataset.date,c=[d,d],i=function(a){a.preventDefault(),n=!0,e.selectedDays.size&&e.selectedDays.clear(),a.target.classList.contains("day")&&(o=a.target.dataset.date,c=[d,o].sort(function(e,a){return moment(e).unix()-moment(a).unix()}));var t=!0,l=!1,r=void 0;try{for(var s,i=e.querySelectorAll(".day")[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var v=s.value,u=v.dataset.date;v.classList.remove("remove-border-radius-right","remove-border-radius-left"),u<c[0]||u>c[1]?v.classList.remove("selected","range"):(v.classList.add("selected","range"),u===c[0]?v.classList.add("remove-border-radius-right"):u===c[1]?v.classList.add("remove-border-radius-left"):(u>c[0]||u<c[1])&&v.classList.add("remove-border-radius-right","remove-border-radius-left"))}}catch(e){l=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(l)throw r}}e.selectedRange.clear(),e.selectedRange.add(e.querySelector('.day[data-date="'.concat(c[0],'"]')).dataset.date+"/"+e.querySelector('.day[data-date="'.concat(c[1],'"]')).dataset.date)};t.classList.contains("day")&&!l&&!r&&s&&(e.addEventListener("pointermove",i),e.addEventListener("pointerup",function(){e.removeEventListener("pointermove",i)}))}),e.addEventListener("pointerup",function(a){n&&l.onrangeselect&&"function"==typeof l.onrangeselect&&(l.onrangeselect.call(e,e,e.selectedRange,a),n=void 0),n=void 0}),l.callback&&l.callback.call(e,e),e}},document.addEventListener("keydown",function(e){e.key.match(/^[2-9]$/)?jsPanel.datepicker.keyValue=e.key:e.key.match(/^1$/)&&(jsPanel.datepicker.keyValue=12)}),document.addEventListener("keyup",function(){jsPanel.datepicker.keyValue=void 0})),"undefined"!=typeof module&&(module.exports=jsPanel);