"use strict";jsPanel.datepicker||(jsPanel.datepicker={version:"0.2.5",date:"2020-02-10 11:50",defaults:{locale:"en",months:1,showWeekNumbers:!0,ondateselect:void 0,onrangeselect:void 0},keyValue:void 0,weekcount:[6,10,14],daycount:[43,71,99],generateHTML:function(e){var a=document.createElement("div");a.className="jsPanel-cal-wrapper",a.innerHTML='<div class="jsPanel-cal-sub jsPanel-cal-clear">&#9723;</div>\n                <div class="jsPanel-cal-sub jsPanel-cal-back">&#9204;</div>\n                <div class="jsPanel-cal-sub jsPanel-cal-month"></div>\n                <div class="jsPanel-cal-sub jsPanel-cal-forward">&#9205;</div>\n                <div class="jsPanel-cal-sub jsPanel-cal-reset">&#8634;</div>\n                <div class="jsPanel-cal-sub jsPanel-cal-blank3"></div>';for(var t=0;t<7;t++)a.innerHTML+='<div class="jsPanel-cal-sub day-name day-name-'.concat(t,'"></div>');for(var s=0;s<this.weekcount[e.months-1];s++)a.innerHTML+='<div class="jsPanel-cal-sub week week-'.concat(s,'"></div>');for(var n=1;n<this.daycount[e.months-1];n++)a.innerHTML+='<div class="jsPanel-cal-sub day day-'.concat(n,'" data-day="').concat(n,'"></div>');return a},create:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a;a.config&&delete(t=Object.assign({},a.config,a)).config,((t=Object.assign({},this.defaults,t)).months<1||t.months>3)&&(t.months=1),e.selectedDays=new Set,e.selectedRange=new Set,e.deselectAllDays=function(){e.querySelectorAll(".jsPanel-cal-sub.day").forEach(function(e){e.classList.remove("selected","range")})},e.restoreSelections=function(){var a=e.querySelectorAll(".jsPanel-cal-sub.day");if(a.forEach(function(a){e.selectedDays.has(a.dataset.date)&&a.classList.add("selected")}),e.selectedRange.size){var t=e.selectedRange.values().next().value.split("/");a.forEach(function(e){e.dataset.date>=t[0]&&e.dataset.date<=t[1]&&e.classList.add("selected","range")})}},e.fill=function(a){moment.locale(t.locale);var s=a||moment();s.locale(t.locale);var n=s.month(),l=s.date(1).weekday(),c=s.localeData(),d=e.querySelector(".jsPanel-cal-month");d.innerHTML=s.format("MMMM YYYY"),d.dataset.date=s.format("YYYY-MM-DD");var r=e.querySelectorAll(".jsPanel-cal-sub.day-name"),o=c.weekdaysMin();if(1===c.firstDayOfWeek()){for(var i=0,u=1;i<7;i++,u++)r[i].textContent=o[u];r[6].textContent=o[0],r[5].classList.add("weekend"),r[6].classList.add("weekend")}else{for(var y=0;y<7;y++)r[y].textContent=o[y];r[0].classList.add("weekend"),r[6].classList.add("weekend")}var f=s.subtract(++l,"days");e.querySelectorAll(".jsPanel-cal-sub.day").forEach(function(e){e.classList.remove("today","notInMonth");var a=f.add(1,"days");e.textContent=a.format("D"),e.dataset.date=s.format("YYYY-MM-DD"),a.month()!==n?e.classList.add("notInMonth"):e.dataset.date===moment().format("YYYY-MM-DD")&&e.classList.add("today")}),t.showWeekNumbers?e.querySelectorAll(".jsPanel-cal-sub.week").forEach(function(a,t){a.textContent=moment(e.querySelector(".jsPanel-cal-sub.day-".concat(7*(t+1))).dataset.date).week()}):e.querySelector(".jsPanel-cal-wrapper").style.gridTemplateColumns="0fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr"};var s=this.generateHTML(t);s.classList.add("month-count-".concat(t.months)),e.append(s),e.fill();var n,l=e.querySelector(".jsPanel-cal-sub.jsPanel-cal-month");return e.querySelector(".jsPanel-cal-sub.jsPanel-cal-back").addEventListener("click",function(a){a.preventDefault();var t=jsPanel.datepicker.keyValue||1;e.fill(moment(l.dataset.date).subtract(t,"months")),e.deselectAllDays(),e.restoreSelections()}),e.querySelector(".jsPanel-cal-sub.jsPanel-cal-forward").addEventListener("click",function(a){a.preventDefault();var t=jsPanel.datepicker.keyValue||1;e.fill(moment(l.dataset.date).add(t,"months")),e.deselectAllDays(),e.restoreSelections()}),e.querySelector(".jsPanel-cal-sub.jsPanel-cal-reset").addEventListener("click",function(a){a.preventDefault(),e.fill(moment()),e.deselectAllDays(),e.restoreSelections()}),e.querySelector(".jsPanel-cal-sub.jsPanel-cal-clear").addEventListener("click",function(a){a.preventDefault(),e.deselectAllDays(),e.selectedDays.clear(),e.selectedRange.clear()}),s.addEventListener("click",function(a){a.preventDefault();var n=a.target,l=a.altKey,c=a.ctrlKey,d=a.shiftKey;if(n.classList.contains("day")){var r=n.classList.contains("selected");if(c||d||l?l||!c||d||(e.selectedRange.clear(),s.querySelectorAll(".day").forEach(function(e){e.classList.contains("selected")&&e.classList.contains("range")&&e.classList.remove("range","selected")}),r?(n.classList.remove("selected"),e.selectedDays.delete(n.dataset.date)):(n.classList.add("selected"),e.selectedDays.add(n.dataset.date))):(e.deselectAllDays(),e.selectedDays.clear(),r?n.classList.remove("selected"):(n.classList.add("selected"),e.selectedDays.add(n.dataset.date))),t.ondateselect&&"function"==typeof t.ondateselect){var o=moment(n.dataset.date);t.ondateselect.call(e,e,o,a)}}}),s.addEventListener("pointerdown",function(a){a.preventDefault();var t=a.target,l=a.altKey,c=a.ctrlKey,d=a.shiftKey,r=Number(a.target.dataset.day),o=Number(a.target.dataset.day),i=[r,r],u=function(a){a.preventDefault(),n=!0,e.selectedDays.size&&e.selectedDays.clear(),a.target.dataset.day&&(o=Number(a.target.dataset.day),i=[r,o].sort(function(e,a){return e-a})),s.querySelectorAll(".day").forEach(function(e){var a=Number(e.dataset.day);a<i[0]||a>i[1]?e.classList.remove("selected","range"):e.classList.add("selected","range")}),e.selectedRange.clear(),e.selectedRange.add(s.querySelector(".day-".concat(i[0])).dataset.date+"/"+s.querySelector(".day-".concat(i[1])).dataset.date)};t.classList.contains("day")&&!l&&!c&&d&&(s.addEventListener("pointermove",u),s.addEventListener("pointerup",function(){s.removeEventListener("pointermove",u)}))}),s.addEventListener("pointerup",function(a){n&&t.onrangeselect&&"function"==typeof t.onrangeselect&&(t.onrangeselect.call(e,e,e.selectedRange,a),n=void 0),n=void 0}),e}},document.addEventListener("keydown",function(e){e.key.match(/^[2-9]$/)?jsPanel.datepicker.keyValue=e.key:e.key.match(/^1$/)&&(jsPanel.datepicker.keyValue=12)}),document.addEventListener("keyup",function(){jsPanel.datepicker.keyValue=void 0})),"undefined"!=typeof module&&(module.exports=jsPanel);